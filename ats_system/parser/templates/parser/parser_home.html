{% extends 'landing/base.html' %}

{% block title %}Resume Parser - Jumaiya ATS{% endblock %}

{% block content %}
<div id="wrapper">
    <button class="btn btn-primary" id="menu-open" style="display: none;">&rarr;</button>
    <div class="bg-dark border-right" id="sidebar-wrapper">
        <div class="sidebar-heading">
            <span>Parser Menu</span>
            <button class="btn btn-dark float-end" id="menu-close">&larr;</button>
        </div>
        <div class="list-group list-group-flush">
            <a href="#" class="list-group-item list-group-item-action bg-dark text-white">Dashboard</a>
            <a href="#" class="list-group-item list-group-item-action bg-dark text-white">Upload Resume</a>
            <a href="#" class="list-group-item list-group-item-action bg-dark text-white">Candidates</a>
            <a href="#" class="list-group-item list-group-item-action bg-dark text-white">Settings</a>
        </div>
    </div>
    <div id="page-content-wrapper">
        <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
            <h1 class="mt-4">Welcome to the Parser!</h1>
        </nav>
        <div class="container-fluid">
            <p>This is where the main content of your resume parser will go.</p>
        </div>
    </div>
</div>

<style>
    body {
        overflow-x: hidden;
    }

    #wrapper {
        display: flex;
        transition: all 0.3s ease;
    }

    #sidebar-wrapper {
        min-height: 100vh;
        width: 15rem;
        position: fixed;
        left: 0;
        z-index: 1030;
        transition: transform 0.3s ease;
        transform: translateX(0);
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    #wrapper.toggled #sidebar-wrapper {
        transform: translateX(-15rem);
    }

    #page-content-wrapper {
        width: 100%;
        padding-left: 15rem; /* Same as sidebar width */
        transition: padding-left 0.3s ease;
    }

    #wrapper.toggled #page-content-wrapper {
        padding-left: 0;
    }

    #sidebar-wrapper .sidebar-heading {
        padding: 0.875rem 1.25rem;
        font-size: 1.2rem;
        color: white;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    #menu-open {
        position: fixed;
        left: 10px;
        top: 50%;
        transform: translateY(-50%);
        z-index: 1031;
    }

    .list-group-item-action.bg-dark.text-white {
        transition: all 0.2s ease-in-out;
    }

    .list-group-item-action.bg-dark.text-white:hover {
        background-color: #343a40 !important;
        color: white !important;
        box-shadow: 0 0 10px #ffd700;
        transform: scale(1.02);
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const menuClose = document.getElementById('menu-close');
        const menuOpen = document.getElementById('menu-open');
        const wrapper = document.getElementById('wrapper');
        const isSidebarToggled = localStorage.getItem('isSidebarToggled') === 'true';

        if (isSidebarToggled) {
            wrapper.classList.add('toggled');
            menuOpen.style.display = 'block';
        }

        menuClose.addEventListener('click', (e) => {
            e.preventDefault();
            wrapper.classList.add('toggled');
            localStorage.setItem('isSidebarToggled', 'true');
            menuOpen.style.display = 'block';
        });

        menuOpen.addEventListener('click', (e) => {
            e.preventDefault();
            wrapper.classList.remove('toggled');
            localStorage.setItem('isSidebarToggled', 'false');
            menuOpen.style.display = 'none';
        });
    });
</script>
{% endblock %}